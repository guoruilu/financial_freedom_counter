# 财富自由计算器

# 第一版

## Prompt：

用python写一个“财富自由计算器”的代码，计算过程如下： 初始（第0年）有ORIG\_MONEY的钱，每年的年利率是R，每年的消费是C，要求迭代计算ORIG\_MONEY可以用多少年，即到第几年的时候会用完。 以第一年为例，需要从ORIG\_MONEY中取C元出来使用，那么第一年结束后C元全部用完，而(ORIG\_MONEY-C)元会变成(ORIG\_MONEY-C)*(1+R)。那么第二年再从(ORIG\_MONEY-C)*(1+R)元中取出C元，重复上述过程。



## 解析解推导过程

### 1. 模型定义

设第 \(n\) 年年初的资产为 \(M_n\)，资产演化规则为：

$$
M_{n+1} = (M_n - C)(1 + R)
$$

其中 \(C\) 为每年消费，\(R\) 为年利率。

---

### 2. 递推展开

第一年：

$$
M_1 = (M_0 - C)(1 + R)
$$

第二年：

$$
M_2 = (M_1 - C)(1 + R)
$$

$$
M_2 = \left[(M_0 - C)(1 + R) - C\right](1 + R)
$$

$$
M_2 = (M_0 - C)(1+R)^2 - C(1+R)
$$

$$
M_2 = M_0(1+R)^2 - C\left[ (1+R)^2 + (1+R) \right]
$$

第三年：

$$
M_3 = M_0(1 + R)^3 - C\left[(1 + R)^3 + (1 + R)^2 + (1 + R)\right]
$$

由此可以归纳得到一般形式：

$$
M_n = M_0(1 + R)^n - C \sum_{k=1}^{n} (1 + R)^k
$$

---

### 3. 等比数列求和

$$
\sum_{k=1}^{n} (1 + R)^k = (1 + R)\frac{(1 + R)^n - 1}{R}
$$

代入上式：

$$
M_n = M_0(1 + R)^n - C(1 + R)\frac{(1 + R)^n - 1}{R}
$$

---

### 4. 终止条件（第 \(Y\) 年用完）

$$
M_Y = 0
$$

代入得：

$$
0 = M_0(1 + R)^Y - C(1 + R)\frac{(1 + R)^Y - 1}{R}
$$

---

### 5. 解出初始资产 \(M_0\)

$$
M_0(1 + R)^Y = C(1 + R)\frac{(1 + R)^Y - 1}{R}
$$

两边除以 $(1 + R)^Y$：

$$
M_0 = C \frac{1 + R}{R} \left(1 - (1 + R)^{-Y}\right)
$$

---

### 6. 标准现值形式

$$
M_0 = C \frac{1 - (1 + R)^{-Y}}{R}
$$

---

### 7. 无限年极限（财富自由边界）

$$
\lim_{Y \to \infty} M_0 = \frac{C}{R}
$$



